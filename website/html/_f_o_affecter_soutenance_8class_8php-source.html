<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Stage: D:/developpement/php/www/Stage/trunk/class/FormObjects/FOAffecterSoutenance.class.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<h1>D:/developpement/php/www/Stage/trunk/class/FormObjects/FOAffecterSoutenance.class.php</h1><a href="_f_o_affecter_soutenance_8class_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 set_include_path(<span class="stringliteral">"."</span>.PATH_SEPARATOR.<span class="stringliteral">".."</span>);
<a name="l00003"></a><a class="code" href="namespace_form_objects.html">00003</a> require_once(<span class="stringliteral">"inc/main.inc.php"</span>);
<a name="l00004"></a>00004 
<a name="l00016"></a><a class="code" href="class_f_o_affecter_soutenance.html">00016</a> <span class="keyword">class </span><a class="code" href="class_f_o_affecter_soutenance.html">FOAffecterSoutenance</a> <span class="keyword">extends</span> <a class="code" href="class_form_object.html">FormObject</a>{
<a name="l00017"></a><a class="code" href="class_f_o_affecter_soutenance.html#fa1030e15497bead77ba6b0995eb9922">00017</a>     <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f_o_affecter_soutenance.html#fa1030e15497bead77ba6b0995eb9922">$CHAMP_FORM_ID_TYPE</a> = <span class="stringliteral">"id_type"</span>;
<a name="l00018"></a><a class="code" href="class_f_o_affecter_soutenance.html#813ac28c5cec4bd36d4358d6ed8325d5">00018</a>     <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f_o_affecter_soutenance.html#813ac28c5cec4bd36d4358d6ed8325d5">$CHAMP_FORM_ID_STAGE</a> = <span class="stringliteral">"id_etudiant"</span>;
<a name="l00019"></a><a class="code" href="class_f_o_affecter_soutenance.html#9508531c0f306f26dba12c7bcee9a3c9">00019</a>     <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f_o_affecter_soutenance.html#9508531c0f306f26dba12c7bcee9a3c9">$CHAMP_FORM_DATE</a> = <span class="stringliteral">"date"</span>;
<a name="l00020"></a><a class="code" href="class_f_o_affecter_soutenance.html#735554fd71e133437f978c28b28a3f39">00020</a>     <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f_o_affecter_soutenance.html#735554fd71e133437f978c28b28a3f39">$CHAMP_FORM_HH_DEB</a> = <span class="stringliteral">"heure_debut"</span>;
<a name="l00021"></a><a class="code" href="class_f_o_affecter_soutenance.html#bfd4d085aee5aff67cda90ae4ac6800d">00021</a>     <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f_o_affecter_soutenance.html#bfd4d085aee5aff67cda90ae4ac6800d">$CHAMP_FORM_MM_DEB</a> = <span class="stringliteral">"minute_debut"</span>;
<a name="l00022"></a><a class="code" href="class_f_o_affecter_soutenance.html#f0439d11fbbf3040442fa0d43c93f9a0">00022</a>     <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_f_o_affecter_soutenance.html#f0439d11fbbf3040442fa0d43c93f9a0">$CHAMP_FORM_LIEU</a> = <span class="stringliteral">"lieu"</span>;
<a name="l00023"></a>00023  
<a name="l00024"></a><a class="code" href="class_f_o_affecter_soutenance.html#48cf456c7aedf28dad6e944544f2f58d">00024</a>     <span class="keyword">private</span> <a class="code" href="class_f_o_affecter_soutenance.html#48cf456c7aedf28dad6e944544f2f58d">$_idStage</a>;
<a name="l00025"></a><a class="code" href="class_f_o_affecter_soutenance.html#f3a1c624ac33798fe863838e51c89a23">00025</a>     <span class="keyword">private</span> <a class="code" href="class_f_o_affecter_soutenance.html#f3a1c624ac33798fe863838e51c89a23">$_date</a>;
<a name="l00026"></a><a class="code" href="class_f_o_affecter_soutenance.html#83e5d722d86e42fba47bf3a2e067f36d">00026</a>     <span class="keyword">private</span> <a class="code" href="class_f_o_affecter_soutenance.html#83e5d722d86e42fba47bf3a2e067f36d">$_heureDebut</a>;
<a name="l00027"></a><a class="code" href="class_f_o_affecter_soutenance.html#084026fd7b0c47b13285d41a9b03126d">00027</a>     <span class="keyword">private</span> <a class="code" href="class_f_o_affecter_soutenance.html#084026fd7b0c47b13285d41a9b03126d">$_minuteDebut</a>;
<a name="l00028"></a><a class="code" href="class_f_o_affecter_soutenance.html#1e89b84b8dd316e3a4502e610f385c55">00028</a>     <span class="keyword">private</span> <a class="code" href="class_f_o_affecter_soutenance.html#1e89b84b8dd316e3a4502e610f385c55">$_lieu</a>;
<a name="l00029"></a><a class="code" href="class_f_o_affecter_soutenance.html#101197db9119cf1242fe3d41636ceed9">00029</a>     <span class="keyword">private</span> <a class="code" href="class_f_o_affecter_soutenance.html#101197db9119cf1242fe3d41636ceed9">$_idTypeStage</a>;
<a name="l00030"></a>00030         
<a name="l00031"></a>00031         
<a name="l00036"></a><a class="code" href="class_f_o_affecter_soutenance.html#3a7282b8ddd116e7eb3c9a786d70351d">00036</a>     <span class="keyword">public</span> function <a class="code" href="class_f_o_affecter_soutenance.html#3a7282b8ddd116e7eb3c9a786d70351d">init</a>(){
<a name="l00037"></a>00037         $this-&gt;_idStage = $_POST[<a class="code" href="class_f_o_affecter_soutenance.html#813ac28c5cec4bd36d4358d6ed8325d5">FOAffecterSoutenance::$CHAMP_FORM_ID_STAGE</a>];
<a name="l00038"></a>00038         $this-&gt;_date = $_POST[<a class="code" href="class_f_o_affecter_soutenance.html#9508531c0f306f26dba12c7bcee9a3c9">FOAffecterSoutenance::$CHAMP_FORM_DATE</a>];
<a name="l00039"></a>00039         $this-&gt;_heureDebut = $_POST[<a class="code" href="class_f_o_affecter_soutenance.html#735554fd71e133437f978c28b28a3f39">FOAffecterSoutenance::$CHAMP_FORM_HH_DEB</a>];
<a name="l00040"></a>00040         $this-&gt;_minuteDebut = $_POST[<a class="code" href="class_f_o_affecter_soutenance.html#bfd4d085aee5aff67cda90ae4ac6800d">FOAffecterSoutenance::$CHAMP_FORM_MM_DEB</a>];
<a name="l00041"></a>00041         $this-&gt;_lieu = $_POST[<a class="code" href="class_f_o_affecter_soutenance.html#f0439d11fbbf3040442fa0d43c93f9a0">FOAffecterSoutenance::$CHAMP_FORM_LIEU</a>];
<a name="l00042"></a>00042         $this-&gt;_idTypeStage = $_POST[<a class="code" href="class_f_o_saisir_visite.html#acbd4dd3a3d9c4f2701a99161a7c00dc">FOSaisirVisite::$CHAMP_FORM_ID_TYPE</a>];
<a name="l00043"></a>00043     }
<a name="l00044"></a>00044     
<a name="l00050"></a><a class="code" href="class_f_o_affecter_soutenance.html#0c3a0c5de260eb760d93c41cf7a8ab64">00050</a>     <span class="keyword">public</span> function <a class="code" href="class_f_o_affecter_soutenance.html#0c3a0c5de260eb760d93c41cf7a8ab64">isValid</a>(){
<a name="l00051"></a>00051         <span class="keywordflow">if</span>(!<a class="code" href="class_form_object.html#689dde1de1c24b5c9a2c33d98b5ab460">FormObject::isString</a>($this-&gt;_lieu))
<a name="l00052"></a>00052             $this-&gt;<a class="code" href="class_form_object.html#970137f1701e6cc8c04116b0a8cc7b68">setErrorMessage</a>(<span class="stringliteral">"Erreur : chaine attendue pour le lieu !"</span>);  
<a name="l00053"></a>00053          <span class="keywordflow">if</span>(!<a class="code" href="class_form_object.html#f62b581ecb8062f5f521ca7865ad8eda">FormObject::isDate</a>($this-&gt;_date))
<a name="l00054"></a>00054             $this-&gt;<a class="code" href="class_form_object.html#970137f1701e6cc8c04116b0a8cc7b68">setErrorMessage</a>(<span class="stringliteral">"Erreur : la date n'est pas valide !"</span>);
<a name="l00055"></a>00055         <span class="keywordflow">return</span> ($this-&gt;<a class="code" href="class_form_object.html#1d4e4d699dc23d76066344b477a5a728">getErrorMessage</a>() == <span class="stringliteral">""</span>);
<a name="l00056"></a>00056     }
<a name="l00057"></a>00057         
<a name="l00062"></a><a class="code" href="class_f_o_affecter_soutenance.html#bef7a656c502145ce8c766f0e5b739fd">00062</a>     <span class="keyword">public</span> function <a class="code" href="class_f_o_affecter_soutenance.html#bef7a656c502145ce8c766f0e5b739fd">process</a>(){
<a name="l00063"></a>00063     
<a name="l00064"></a>00064         list($jour, $mois, $annee) = split('[/.-]',  $this-&gt;_date);     
<a name="l00065"></a>00065         <span class="comment">//$dateT = "$jour/$mois/$annee $this-&gt;_heureDebut:$this-&gt;_minuteDebut:00";</span>
<a name="l00066"></a>00066         $dateT = timeToFormattedDateTime(mktime($this-&gt;_heureDebut, $this-&gt;_minuteDebut, 0, $mois, $jour, $annee));    
<a name="l00067"></a>00067         $fiche = <a class="code" href="class_d_b_fiche_stage.html#e255973dda3562dc5346be22f780f1ce">DBFicheStage::getRecords</a>($this-&gt;_idStage,$this-&gt;_idTypeStage);
<a name="l00068"></a>00068         $fiche[0]-&gt;setLieuSoutenance($this-&gt;_lieu);
<a name="l00069"></a>00069         $fiche[0]-&gt;setDateSoutenance($dateT);
<a name="l00070"></a>00070         
<a name="l00071"></a>00071         $this-&gt;<a class="code" href="class_form_object.html#a2b21ba081368508faa4ab1538173fb5">setOKMessage</a>(<span class="stringliteral">"Soutenance affectée!"</span>);
<a name="l00072"></a>00072     }
<a name="l00073"></a>00073 }
<a name="l00074"></a>00074 ?&gt;
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Mar 28 11:48:06 2007 for Stage by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
